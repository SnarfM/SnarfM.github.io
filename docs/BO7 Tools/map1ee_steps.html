<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Map Checklist</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap');

  body {
    margin: 0;
    background: #f3e6c9;
    font-family: 'MedievalSharp', cursive;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    color: #4b2e05;
  }

  h1 {
    margin: 2rem 0 1rem;
  }
  
  .header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.header h2 {
  margin: 0;
}

.container {
  background: #f9f4e8;
  border: 3px solid #7a562c;
  border-radius: 12px;
  padding: 2rem;
  width: 500px;
  box-shadow: 0 0 12px #a67c00cc;
  display: flex;
  flex-direction: column;
  text-align: center;
  transition: background-color 0.3s ease;
}

.step-list {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1.5em;
  margin-bottom: 2em;
  flex-grow: 1; /* this keeps spacing flexible */
}

  .step {
    transition: all 0.2s;
    text-align: center;
    width: 100%;
  }

  .step.prev, .step.next {
    font-size: 1em;
    opacity: 0.5;
  }

  .step.current {
    font-size: 1.5em;
    font-weight: bold;
    opacity: 1;
    color: #f9f4e8;
    background: #4b2e05;
    border-radius: 6px;
    padding: 0.5em 0.5em 1em;
  }

  .step .location {
    font-size: 0.8em;
    font-style: italic;
    margin-top: 0.25em;
  }

  .step.prev .location, 
  .step.next .location {
    color: #7a562c;
  }

  .step.current .location {
    color: #ffd966;
  }

  /* Checklist styles */
  .checklist {
    margin-top: 0.5em;
    text-align: left;
    display: inline-block;
  }

  .checklist label {
    display: block;
    font-size: 0.9em;
    cursor: pointer;
    margin: 0.25em 0;
  }

  .controls {
  display: flex;
  gap: 0.5em;
  margin: 0; /* reset the old margin */
}

  button {
    background: #4b2e05;
    color: #f9f4e8;
    border: none;
    border-radius: 4px;
    padding: 0.5em 1.2em;
    font-size: 1em;
    font-family: 'MedievalSharp', cursive;
    cursor: pointer;
    transition: background 0.15s;
  }

  button:disabled {
    background: #f9f4e8;
    cursor: not-allowed;
  }

  .kofi-container {
    margin-top: 3rem;
  }
</style>
</head>
<body>

<a href="../bo7.html" style="display:inline-block; margin:1rem; font-family: 'MedievalSharp', cursive; color:#4b2e05; text-decoration:none;">‚¨Ö Back</a>

<div class="container">
	<div class="header">
  <h2>Checklist Steps</h2>
  <div class="controls">
    <button id="prevBtn">Previous</button>
    <button id="nextBtn">Next</button>
  </div>
  </div>
  
  <div class="step-list" id="stepList">
    <!-- Steps will be injected here -->
  </div>
  
</div>

<script>
  const steps = [
    { text: "Collect Tedd's Head", location: "Server Room" },
    { text: "Install Tedd's Head on Ol' Tessie", location: "Janus Towers Plaza" },    
    { text: "Drive to Blackwater Lake"},
    { text: "Clear Infestation off Power Pump", location: "Blackwater Lake" },
    { text: "Turn on Power ", location: "Cabin (Upstairs)" },
    { text: "Drive to Ashwood."},
    { text: "Clear Infestation off Power Pump", location: "Ashwood Bridge" },
    { text: "Turn on Power", location: "Ashwood Bridge" },
    { text: "Drive to Garage"},
    { text: "Install PAP on Ol' Tessie", location: "Ashwood (Garage)" },
    { text: "Drive to Vandorn Farm" },
    { text: "Clear Infestation off Power Pump", location: "Vandorn Farm" },
    { text: "Turn on Power", location: "Farmhouse" },
    { text: "Drive the car.", location: "Safehouse" },
    { text: "Drive the car.", location: "Safehouse" },
    { text: "Drive the car.", location: "Safehouse" },
    { text: "Drive the car.", location: "Safehouse" },
    { text: "Drive the car.", location: "Safehouse" },
    { text: "Collect 3 Car Upgrades.",
      location: "Optional Location",
      checklist: [
        "Abom heads: Farm",
        "Engine: Diner",
        "Tedd Head: Bus Route B"
      ]
    },
    { text: "Win Game!", location: "Play Area" }
  ];

  let current = 0;

  function renderSteps() {
    const stepList = document.getElementById('stepList');
    stepList.innerHTML = '';

    function createStep(step, className) {
      const wrapper = document.createElement('div');
      wrapper.className = `step ${className}`;

      if (!step) return wrapper;

      const stepText = document.createElement('div');
      stepText.textContent = step.text;

      const stepLocation = document.createElement('div');
      stepLocation.className = 'location';
      stepLocation.textContent = step.location;

      wrapper.appendChild(stepText);
      wrapper.appendChild(stepLocation);

      // Only show checklist if it's the current step and has one
      if (className.includes('current') && step.checklist) {
        const checklistDiv = document.createElement('div');
        checklistDiv.className = 'checklist';

        step.checklist.forEach((item, i) => {
          const label = document.createElement('label');
          const checkbox = document.createElement('input');
          checkbox.type = 'checkbox';
          checkbox.id = `check-${current}-${i}`;
          label.appendChild(checkbox);
          label.appendChild(document.createTextNode(" " + item));
          checklistDiv.appendChild(label);
        });

        wrapper.appendChild(checklistDiv);
      }

      return wrapper;
    }

    // Previous
    stepList.appendChild(createStep(steps[current - 1], 'prev'));

    // Current
    stepList.appendChild(createStep(steps[current], 'current'));

    // Next
    stepList.appendChild(createStep(steps[current + 1], 'next'));

    // Button states
    document.getElementById('prevBtn').disabled = current === 0;
    document.getElementById('nextBtn').disabled = current === steps.length - 1;
  }

  document.getElementById('prevBtn').addEventListener('click', () => {
    if (current > 0) {
      current--;
      renderSteps();
    }
  });

  document.getElementById('nextBtn').addEventListener('click', () => {
    if (current < steps.length - 1) {
      current++;
      renderSteps();
    }
  });

  renderSteps();
</script>

<div class="kofi-container">
  <script src="https://storage.ko-fi.com/cdn/widget/Widget_2.js"></script>
  <script>
    kofiwidget2.init('Support me on Ko-fi', '#72a4f2', 'X8X818RDQ3');
    kofiwidget2.draw();
  </script>
</div>

<footer style="margin-top:auto; padding:1rem; font-size:0.8rem; color:#7a562c;">
  Made with ‚öîÔ∏è &amp; üêâ by SnarfM TransformingPanda
</footer>

</body>
</html>