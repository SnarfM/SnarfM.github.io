<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BO7 Loadout Library</title>
<link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet" />
<style>
  :root{
    --bg:#f3e6c9;
    --ink:#4b2e05;
    --panel:#fff7e6;
    --accent:#7a562c;
    --muted:#7a562ccc;
    --radius:10px;
  }
  html,body{height:100%;margin:0;}
  body{
    font-family: 'MedievalSharp', cursive;
    background: radial-gradient(circle at top left, #f9f4e8 0%, var(--bg) 70%);
    color:var(--ink);
    display:flex;
    align-items:flex-start;
    justify-content:center;
    padding:3rem 2rem;
  }

  .wrapper{
    width:100%;
    max-width:900px;
  }

  header{
    text-align:left;
    margin-bottom:1.25rem;
  }
  h1{
    margin:0 0 0.25rem 0;
    font-size:2rem;
  }
  p.lead{
    margin:0;
    color:var(--muted);
    font-size:0.95rem;
  }

  .list{
    display:flex;
    flex-direction:column;
    gap:1rem;
    margin-top:1.25rem;
  }

  .card{
    background:var(--panel);
    border:3px solid var(--accent);
    border-radius:var(--radius);
    padding:1rem;
    box-shadow:0 8px 18px rgba(122,86,44,0.08);
    position:relative;
    overflow:hidden;
  }

  .card-button{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:1rem;
    cursor:pointer;
    user-select:none;
  }

  .card-title{
    font-size:1.1rem;
    font-weight:700;
  }
  .card-sub{
    color:var(--muted);
    font-size:0.9rem;
  }

  .chev{
    background:var(--accent);
    color:var(--panel);
    border-radius:8px;
    padding:6px 10px;
    font-weight:700;
    transform:rotate(0deg);
    transition:transform .25s ease;
  }

  .card.expanded .chev{
    transform:rotate(90deg);
  }

  .details{
    margin-top:0.9rem;
    border-top:1px dashed rgba(122,86,44,0.12);
    padding-top:0.9rem;
    display:none;
    animation:fadein .18s ease;
  }
  .card.expanded .details{ display:block; }

  @keyframes fadein { from {opacity:0; transform:translateY(-6px)} to {opacity:1; transform:none} }

  .code-row{
    display:flex;
    gap:0.6rem;
    align-items:center;
    margin-bottom:0.8rem;
  }
  .code{
    background:#efe2c7;
    border:2px solid var(--accent);
    padding:8px 12px;
    border-radius:6px;
    font-family:monospace;
    font-size:0.95rem;
    word-break:break-all;
    flex:1;
  }
  .btn-copy{
    background:var(--accent);
    color:var(--panel);
    border:none;
    padding:8px 12px;
    border-radius:6px;
    cursor:pointer;
    font-weight:700;
  }
  .attachments{
    display:flex;
    flex-wrap:wrap;
    gap:8px 12px;
    margin-top:0.4rem;
  }
  .attach-group{
    background:rgba(122,86,44,0.06);
    border:1px solid rgba(122,86,44,0.12);
    padding:8px;
    border-radius:6px;
    min-width:140px;
    max-width:45%;
    box-sizing:border-box;
  }
  .attach-group h4{ margin:0 0 6px 0; font-size:0.85rem; color:var(--accent) }
  .attach-list{ margin:0; padding-left:1rem; font-size:0.9rem; color:var(--ink) }
  .attach-list li{ margin-bottom:0.3rem; }

  .desc{ margin-top:0.8rem; color:var(--muted); font-size:0.9rem; }

  .controls{
    margin-top:1rem;
    display:flex;
    gap:8px;
    justify-content:flex-end;
  }
  .small-btn{
    background:transparent;
    border:1px solid var(--accent);
    color:var(--accent);
    padding:6px 10px;
    border-radius:6px;
    cursor:pointer;
    font-weight:700;
  }
  .small-btn.ghost{
    background:transparent;
  }
  .kofi-container {
    margin-top: 3rem;
  }

  /* responsive */
  @media (max-width:600px){
    .attach-group{ min-width:100%; max-width:100%;}
    .wrapper{ padding:0 0.5rem; }
    body{ padding:1.5rem; }
  }
</style>
</head>
<body>
  <div class="wrapper">
    <header>
      <h1>Loadout Library</h1>
      <p class="lead">Click a weapon to reveal its sharable loadout code and attachments.</p>
      <a href="index.html" style="display:inline-block; font-family: 'MedievalSharp', cursive; color:#4b2e05; text-decoration:none;">‚¨Ö Back to Home</a>
    </header>

    <main>
      <div id="list" class="list" aria-live="polite"></div>
    </main>

<div class="kofi-container">
  <script src="https://storage.ko-fi.com/cdn/widget/Widget_2.js"></script>
  <script>
    kofiwidget2.init('Support me on Ko-fi', '#72a4f2', 'X8X818RDQ3');
    kofiwidget2.draw();
  </script>
</div>

<footer style="margin-top:auto; padding:1rem; font-size:0.8rem; color:#7a562c;">
  Made with ‚öîÔ∏è &amp; üêâ by SnarfM TransformingPanda
</footer>
  </div>

<script>
  // === SAMPLE DATA - edit/extend this array with your real loadouts ===
  const loadouts = [
    {
      gun: "Peacekeeper MK1",
      subtitle: "Assault Rifle",
      code: "AO6-ZE8RA-3RLNG-S11",
      description: "Versatile AR with balanced stats, suitable for various combat scenarios.",
      attachments: {
        Muzzle: ["K&S Compensator"],
        Barrel: ["21 DF-3 Merge"],
        Optic: ["Prismatech Digital Holo"],
        Underbarrel: ["M335-X Frag"],
        Magazine: ["Reconclip Speed Mag"],
        Stock: ["Counterforce-C1 - Prestige Attachement"]
      }
    },
    {
      gun: "X9 Maverick",
      subtitle: "All-rounder AR",
      code: "A04-N6RAH-GK551-1",
      description: "Balanced AR with controllable recoil and good range.",
      attachments: {
        Barrel: ["14.9' Tourville"],
        Optic: ["Greaves Red Dot"],
        Underbarrel: ["EAM Steady-90 Grip"],
        Muzzle: ["Novaburst Brake"],
        "Rear Grip": ["Celestial Grip"],
      }
    }
  ];

  const listEl = document.getElementById('list');

  function buildList(){
    listEl.innerHTML = '';
    loadouts.forEach((ld, i) => {
      const card = document.createElement('article');
      card.className = 'card';
      card.dataset.index = i;

      const btn = document.createElement('div');
      btn.className = 'card-button';
      btn.tabIndex = 0;
      btn.setAttribute('role','button');
      btn.setAttribute('aria-expanded','false');

      const titleWrap = document.createElement('div');
      const title = document.createElement('div');
      title.className = 'card-title';
      title.textContent = ld.gun;
      const sub = document.createElement('div');
      sub.className = 'card-sub';
      sub.textContent = ld.subtitle || '';

      titleWrap.appendChild(title);
      titleWrap.appendChild(sub);

      const chev = document.createElement('div');
      chev.className = 'chev';
      chev.textContent = '‚ñ∂';

      btn.appendChild(titleWrap);
      btn.appendChild(chev);

      // details container
      const details = document.createElement('div');
      details.className = 'details';
      // code row
      const codeRow = document.createElement('div');
      codeRow.className = 'code-row';
      const codeEl = document.createElement('div');
      codeEl.className = 'code';
      codeEl.textContent = ld.code;
      codeEl.id = `code-${i}`;
      const copyBtn = document.createElement('button');
      copyBtn.className = 'btn-copy';
      copyBtn.textContent = 'Copy';
      copyBtn.addEventListener('click', (e)=>{
        e.stopPropagation();
        navigator.clipboard?.writeText(ld.code).then(()=> {
          copyBtn.textContent = 'Copied!';
          setTimeout(()=> copyBtn.textContent = 'Copy', 1400);
        }).catch(()=> {
          // fallback
          prompt('Copy this code:', ld.code);
        });
      });
      codeRow.appendChild(codeEl);
      codeRow.appendChild(copyBtn);
      details.appendChild(codeRow);

      // attachments
      const attWrap = document.createElement('div');
      attWrap.className = 'attachments';
      for(const group in ld.attachments){
        const g = document.createElement('div');
        g.className = 'attach-group';
        const gh = document.createElement('h4');
        gh.textContent = group;
        const ul = document.createElement('ul');
        ul.className = 'attach-list';
        ld.attachments[group].forEach(a=>{
          const li = document.createElement('li');
          li.textContent = a;
          ul.appendChild(li);
        });
        g.appendChild(gh);
        g.appendChild(ul);
        attWrap.appendChild(g);
      }
      details.appendChild(attWrap);

      // description
      if(ld.description){
        const desc = document.createElement('div');
        desc.className = 'desc';
        desc.textContent = ld.description;
        details.appendChild(desc);
      }      

      // attach behavior
      btn.addEventListener('click', (ev)=>{
        const currently = listEl.querySelector('.card.expanded');
        if(currently && currently !== card) {
          currently.classList.remove('expanded');
          currently.querySelector('.card-button').setAttribute('aria-expanded','false');
        }
        card.classList.toggle('expanded');
        btn.setAttribute('aria-expanded', String(card.classList.contains('expanded')));
      });

      // also open on keyboard Enter
      btn.addEventListener('keydown', (ev)=>{
        if(ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); btn.click(); }
      });

      card.appendChild(btn);
      card.appendChild(details);
      listEl.appendChild(card);
    });
  }

  // initial render
  buildList();

  // Expose a simple function so you can programmatically add loadouts from console if you want:
  window.addLoadout = function(obj){
    loadouts.push(obj);
    buildList();
  };
</script>
</body>
</html>
